import \'package:flutter/material.dart\';\n\nclass InvestorTradingSection extends StatelessWidget {\n  const InvestorTradingSection({super.key});\n\n  // TODO: Replace with actual data model and fetching\n  final List<Map<String, dynamic>> _tradingData1 = const [\n    {\'날짜\': \'04/30\', \'외국인\': -176, \'연기금\': 0, \'금융투자\': 0, \'투신\': 0, \'은행\': 0, \'기타금융\': 0},\n    {\'날짜\': \'04/29\', \'외국인\': -597, \'연기금\': 0, \'금융투자\': 23, \'투신\': 0, \'은행\': 0, \'기타금융\': 0},\n    {\'날짜\': \'04/28\', \'외국인\': 1122, \'연기금\': 0, \'금융투자\': 2, \'투신\': 0, \'은행\': 0, \'기타금융\': 0},\n    {\'날짜\': \'04/25\', \'외국인\': 893, \'연기금\': 0, \'금융투자\': 0, \'투신\': 0, \'은행\': 0, \'기타금융\': -0},\n    {\'날짜\': \'04/24\', \'외국인\': -1072, \'연기금\': 0, \'금융투자\': 0, \'투신\': 0, \'은행\': 0, \'기타금융\': 0},\n  ];\n\n  final List<Map<String, dynamic>> _tradingData2 = const [\n    {\'날짜\': \'04/30\', \'기타법인\': 118, \'개인\': 152, \'기타외국인\': -94, \'보험\': 0, \'사모\': 0},\n    {\'날짜\': \'04/29\', \'기타법인\': 65, \'개인\': 496, \'기타외국인\': 12, \'보험\': 0, \'사모\': 0},\n    {\'날짜\': \'04/28\', \'기타법인\': -33, \'개인\': -1133, \'기타외국인\': 41, \'보험\': 0, \'사모\': 0},\n    {\'날짜\': \'04/25\', \'기타법인\': 19, \'개인\': -803, \'기타외국인\': -109, \'보험\': 0, \'사모\': 0},\n    {\'날짜\': \'04/24\', \'기타법인\': 1, \'개인\': 1089, \'기타외국인\': -18, \'보험\': 0, \'사모\': 0},\n  ];\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Text(\n          \'투자자별 거래실적 (단위:백만원)\',\n          style: Theme.of(context).textTheme.titleLarge?.copyWith(fontWeight: FontWeight.bold),\n        ),\n        const SizedBox(height: 16),\n        _buildTradingTable(_tradingData1, [\'날짜\', \'외국인\', \'연기금\', \'금융투자\', \'투신\', \'은행\', \'기타금융\']),\n        const SizedBox(height: 24),\n        _buildTradingTable(_tradingData2, [\'날짜\', \'기타법인\', \'개인\', \'기타외국인\', \'보험\', \'사모\']),\n         // TODO: Add button/link to view more trading data\n      ],\n    );\n  }\n\n  Widget _buildTradingTable(List<Map<String, dynamic>> data, List<String> headers) {\n    final headerStyle = TextStyle(color: Colors.grey[600], fontSize: 13);\n    final cellStyle = const TextStyle(fontSize: 13);\n    final positiveStyle = cellStyle.copyWith(color: Colors.red);\n    final negativeStyle = cellStyle.copyWith(color: Colors.blue);\n    const cellPadding = EdgeInsets.symmetric(vertical: 8.0, horizontal: 4.0);\n\n    // Calculate column widths dynamically (simple equal distribution)\n    // More sophisticated logic might be needed for better alignment\n    final int columnCount = headers.length;\n\n    return Table(\n      // defaultColumnWidth: FixedColumnWidth(100.0 / columnCount * 3), // Adjust multiplier as needed\n      // columnWidths: {\n      //   0: FixedColumnWidth(40), // Smaller width for date\n      // },\n      border: TableBorder.symmetric(inside: BorderSide(color: Colors.grey[300]!, width: 0.5)),\n      children: [\n        // Header Row\n        TableRow(\n          decoration: BoxDecoration(color: Colors.grey[100]),\n          children: headers.map((header) {\n            return Padding(\n              padding: cellPadding,\n              child: Text(header, style: headerStyle, textAlign: TextAlign.center),\n            );\n          }).toList(),\n        ),\n        // Data Rows\n        ...data.map((row) {\n          return TableRow(\n            children: headers.map((header) {\n              final value = row[header];\n              TextStyle currentStyle = cellStyle;\n              String displayValue = value.toString();\n\n              if (value is num && header != \'날짜\') {\n                if (value > 0) {\n                  currentStyle = positiveStyle;\n                  displayValue = value.toString(); // Keep positive sign if needed by convention\n                } else if (value < 0) {\n                  currentStyle = negativeStyle;\n                  displayValue = value.toString(); // Keep negative sign\n                }\n                // Format number with commas if large? (e.g., using intl package)\n                // displayValue = NumberFormat(\'#,##0\').format(value);\n              }\n\n              return Padding(\n                padding: cellPadding,\n                child: Text(displayValue, style: currentStyle, textAlign: TextAlign.center),\n              );\n            }).toList(),\n          );\n        }),\n      ],\n    );\n  }\n}\n 